---
# Clang-Format configuration based on code style

# Base style
BasedOnStyle: LLVM

# Indentation
IndentWidth: 4
UseTab: Never
TabWidth: 4
ContinuationIndentWidth: 4

# Line length
ColumnLimit: 120

# Braces
BreakBeforeBraces: Linux
# K&R style: opening brace on same line, except for functions

# Pointer and reference alignment
PointerAlignment: Right
DerivePointerAlignment: false

# Spacing
SpaceAfterCStyleCast: false
SpaceAfterLogicalNot: false
SpaceBeforeAssignmentOperators: true
SpaceBeforeParens: Custom
SpaceBeforeParensOptions:
  AfterControlStatements: false      # for, if, while: no space after control statements
  AfterForeachMacros: false
  AfterFunctionDeclarationName: false
  AfterFunctionDefinitionName: false
  AfterIfMacros: false
  AfterOverloadedOperator: false
  AfterPlacementOperator: false
  AfterRequiresInClause: false
  AfterRequiresInExpression: false
  BeforeNonEmptyParentheses: false
SpacesBeforeTrailingComments: 1
SpacesInAngles: false
SpacesInContainerLiterals: false
SpacesInParensOptions:
  InCStyleCasts: false
  InEmptyParentheses: false
SpacesInParentheses: false
SpacesInSquareBrackets: false

# Function declarations and calls
AlignAfterOpenBracket: DontAlign
AllowAllParametersOfDeclarationOnNextLine: true
AllowShortFunctionsOnASingleLine: None
BreakAfterReturnType: Automatic
BinPackParameters: BinPack

# Control statements
AllowShortBlocksOnASingleLine: Empty
AllowShortCaseLabelsOnASingleLine: false
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false

# Switch statements
IndentCaseLabels: false
IndentCaseBlocks: false

# Comments
ReflowComments: Never

# Includes
SortIncludes:
  Enabled: false
IncludeBlocks: Preserve

# Alignment
AlignConsecutiveAssignments: AcrossComments
AlignConsecutiveDeclarations: AcrossComments
AlignOperands: DontAlign
AlignTrailingComments:
  Kind: Always
  OverEmptyLines: 2

# Breaking
AlwaysBreakBeforeMultilineStrings: false
BreakBeforeBinaryOperators: None
BreakBeforeTernaryOperators: false
BreakStringLiterals: true

# Other
KeepEmptyLines:
  AtStartOfBlock: false
  AtEndOfFile: true
  AtStartOfFile: false
MaxEmptyLinesToKeep: 1
PenaltyBreakBeforeFirstCallParameter: 19
PenaltyBreakComment: 300
PenaltyBreakFirstLessLess: 120
PenaltyBreakString: 1000
PenaltyExcessCharacter: 1000000
PenaltyReturnTypeOnItsOwnLine: 120

# Language specific
Language: Cpp
Standard: c++11
